{"version":3,"sources":["../../src/helpers/ApiResponse.js"],"names":["ApiResponse","data","page","pageCount","limit","totalCount","links","req","appUrl","protocol","get","parse","originalUrl","pathname","self","afterPage","next","last","prevPage","first","prev"],"mappings":";;;;;;;;AAAA;;;;;;;;IAEMA,W;AASF,yBAAYC,IAAZ,EAAkBC,IAAlB,EAAwBC,SAAxB,EAAmCC,KAAnC,EAAyCC,UAAzC,EAAqD;AAAA;;AAAA,aAFrDC,KAEqD,GAF9C,EAE8C;;AACjD,aAAKL,IAAL,GAAYA,IAAZ;AACA,aAAKC,IAAL,GAAYA,IAAZ;AACA,aAAKC,SAAL,GAAiBA,SAAjB;AACA,aAAKC,KAAL,GAAaA,KAAb;AACA,aAAKC,UAAL,GAAkBA,UAAlB;AACH;;;;oCAEWE,G,EAAK;AACb,gBAAIC,SAASD,IAAIE,QAAJ,GAAe,KAAf,GAAuBF,IAAIG,GAAJ,CAAQ,MAAR,CAAvB,GAAyC,cAAIC,KAAJ,CAAUJ,IAAIK,WAAd,EAA2BC,QAAjF;AACA,iBAAKP,KAAL,CAAWQ,IAAX,GAAkBN,SAAS,QAAT,GAAoB,KAAKN,IAAzB,GAAgC,SAAhC,GAA4C,KAAKE,KAAnE;AACH;;;oCAEWG,G,EAAK;AACb,gBAAIC,SAASD,IAAIE,QAAJ,GAAe,KAAf,GAAuBF,IAAIG,GAAJ,CAAQ,MAAR,CAAvB,GAAyC,cAAIC,KAAJ,CAAUJ,IAAIK,WAAd,EAA2BC,QAAjF;AACA,gBAAIE,YAAY,KAAKb,IAAL,GAAY,CAA5B;AACA,iBAAKI,KAAL,CAAWU,IAAX,GAAkBR,SAAS,QAAT,GAAoBO,SAApB,GAAgC,SAAhC,GAA4C,KAAKX,KAAnE;AACA,iBAAKE,KAAL,CAAWW,IAAX,GAAkBT,SAAS,QAAT,GAAoB,KAAKL,SAAzB,GAAqC,SAArC,GAAiD,KAAKC,KAAxE;AACH;;;oCAEWG,G,EAAK;AACb,gBAAIC,SAASD,IAAIE,QAAJ,GAAe,KAAf,GAAuBF,IAAIG,GAAJ,CAAQ,MAAR,CAAvB,GAAyC,cAAIC,KAAJ,CAAUJ,IAAIK,WAAd,EAA2BC,QAAjF;AACA,gBAAIK,WAAW,KAAKhB,IAAL,GAAY,CAA3B;AACA,iBAAKI,KAAL,CAAWa,KAAX,GAAmBX,SAAS,SAAT,GAAqB,SAArB,GAAiC,KAAKJ,KAAzD;AACA,iBAAKE,KAAL,CAAWc,IAAX,GAAkBZ,SAAS,QAAT,GAAoBU,QAApB,GAA+B,SAA/B,GAA2C,KAAKd,KAAlE;AACH;;;;;;kBAIUJ,W","file":"ApiResponse.js","sourcesContent":["import url from \"url\";\r\n\r\nclass ApiResponse {\r\n\r\n    data;\r\n    page;\r\n    pageCount;\r\n    totalCount;\r\n    limit;\r\n    links ={};\r\n\r\n    constructor(data, page, pageCount, limit,totalCount) {\r\n        this.data = data;\r\n        this.page = page;\r\n        this.pageCount = pageCount;\r\n        this.limit = limit;\r\n        this.totalCount = totalCount;\r\n    }\r\n\r\n    addSelfLink(req) {\r\n        let appUrl = req.protocol + '://' + req.get('host') + url.parse(req.originalUrl).pathname;\r\n        this.links.self = appUrl + \"?page=\" + this.page + \"&limit=\" + this.limit;\r\n    }\r\n\r\n    addNextLink(req) {\r\n        let appUrl = req.protocol + '://' + req.get('host') + url.parse(req.originalUrl).pathname;\r\n        let afterPage = this.page + 1;\r\n        this.links.next = appUrl + \"?page=\" + afterPage + \"&limit=\" + this.limit;\r\n        this.links.last = appUrl + \"?page=\" + this.pageCount + \"&limit=\" + this.limit;\r\n    }\r\n\r\n    addPrevLink(req) {\r\n        let appUrl = req.protocol + '://' + req.get('host') + url.parse(req.originalUrl).pathname;\r\n        let prevPage = this.page - 1;\r\n        this.links.first = appUrl + \"?page=1\" + \"&limit=\" + this.limit;\r\n        this.links.prev = appUrl + \"?page=\" + prevPage + \"&limit=\" + this.limit;\r\n    }\r\n\r\n}\r\n\r\nexport default ApiResponse;"]}