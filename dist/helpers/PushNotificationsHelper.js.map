{"version":3,"sources":["../../src/helpers/PushNotificationsHelper.js"],"names":["title","body","userId","payload","icon","newMessageId","Types","ObjectId","admin","database","ref","set","savedMessage","console","log","sendNotificationToUser"],"mappings":";;;;;;;;uEAKO,iBAAsCA,KAAtC,EAA6CC,IAA7C,EAAmDC,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AACGC,+BADH,GACa;AACZH,wCADY;AAEZC,sCAFY;AAGZG,kCAAM;AAHM,yBADb;AAMCC,oCAND,GAMgB,IAAI,mBAASC,KAAT,CAAeC,QAAnB,EANhB;AAAA;AAAA,+BAOsBC,MAAMC,QAAN,GAAiBC,GAAjB,CAAqB,cAAcR,MAAd,GAAuB,GAAvB,GAA6BG,YAAlD,EAAiEM,GAAjE,CAAqER,OAArE,CAPtB;;AAAA;AAOCS,oCAPD;;;AASH,4BAAGA,YAAH,EACIC,QAAQC,GAAR,CAAY,kBAAZ,EADJ,KAGID,QAAQC,GAAR,CAAY,oBAAZ,EAAkCF,YAAlC;;AAZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAeG,sB;;;;;AALtB;;;;AACA;;;;AACA;;IAAYP,K","file":"PushNotificationsHelper.js","sourcesContent":["import User from \"../models/user.model\";\nimport mongoose from \"mongoose\" ;\nimport * as admin from \"firebase-admin\";\n\n\nexport async function sendNotificationToUser(title, body, userId) {\n    const payload = {\n        title,\n        body,\n        icon: 'https://image.flaticon.com/icons/png/128/148/148921.png'\n    };\n    let newMessageId = new mongoose.Types.ObjectId();\n    let savedMessage = await admin.database().ref('messages/' + userId + '/' + newMessageId ).set(payload);\n    \n    if(savedMessage) \n        console.log(\"Saved message ..\");\n    else \n        console.log(\"Unsaved Message...\", savedMessage);\n}   \n"]}