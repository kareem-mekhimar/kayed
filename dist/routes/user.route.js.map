{"version":3,"sources":["../../src/routes/user.route.js"],"names":["router","Router","route","put","updateUser","get","getUserBarters","getUserAuctions"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AACA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDAD,OAAOE,KAAP,CAAa,MAAb,EAAqBC,GAArB,CAAyB,eAAeC,UAAxC;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFAJ,OAAOE,KAAP,CAAa,cAAb,EAA6BG,GAA7B,CAAiC,eAAeC,cAAhD;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEAN,OAAOE,KAAP,CAAa,eAAb,EAA8BG,GAA9B,CAAkC,eAAeE,eAAjD;;kBAGeP,M","file":"user.route.js","sourcesContent":["import express from \"express\";\nimport UserController from \"../controllers/user.controller\";\nconst router = express.Router();\n\n/**\n * @swagger\n * /users/{id}:\n *   put:\n *     tags:\n *       - User\n *     summary: Update an existing user\n *     produces:\n *       - application/json\n *     parameters:\n *       - name: id\n *         in: path\n *         required: true\n *         type: string\n *       - name: body\n *         description: User Object\n *         in: body\n *         required: true\n *         schema:\n *           $ref: '#/definitions/User'   \n *     responses:\n *       200:\n *         description: Return Updated User\n *         example:           \n *             {\n *               \"user\": {\n *                       \"fullName\": \"Magdy\",\n *                       \"email\": \"demo@demo.com\",\n *                       \"address\": \"82 Fatma El zhraa\",\n *                       \"phone\": \"01157954393\",\n *                       \"country\": \"Egypt\",\n *                       \"id\": \"5a1db2b8a3c9862828910bef\"\n *               },\n *               \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1YTFk...\"\n *              }\n *       404:\n *         description:  User Not Found\n *       422:\n *         description: |\n *              - email is Required\n *              - email already exists\n *              ---------------------------\n *              - password is Required\n *              - phone is Required \n *              - fullName is Required \n *              - country is Required \n */\n\nrouter.route('/:id').put(UserController.updateUser);\n\n\n/**\n * @swagger\n * /users/{id}/barters:\n *   get:\n *     tags:\n *       - User\n *     summary: Get all barters of user\n *     produces:\n *       - application/json\n *     parameters:\n *       - name: id\n *         in: path\n *         required: true\n *         type: string\n *       - name: \"page\"\n *         in: \"query\"\n *         type: number\n *       - name: \"limit\"\n *         in: \"query\"\n *         type: number\n *     responses:\n *       200:\n *         description: Get An Array of User Barters\n *         example: \n *               {\n *                   \"links\": {\n *                       \"self\": \"http://localhost:3000/api/v1/users/5a23d9a74bc62c0014489e3b/barters?page=1&limit=2\",\n *                       \"next\": \"http://localhost:3000/api/v1/users/5a23d9a74bc62c0014489e3b/barters?page=2&limit=2\",\n *                       \"last\": \"http://localhost:3000/api/v1/users/5a23d9a74bc62c0014489e3b/barters?page=2&limit=2\"\n *                   },\n *                   \"data\": [\n *                       {\n *                           \"title\": \"Samsung Note 8\",\n *                           \"description\": \"This is a description for new mobile phone of samsung\",\n *                           \"neededProduct\": \"Iphone x\",\n *                           \"relatedUser\": {\n *                               \"fullName\": \"Magdy\",\n *                               \"email\": \"xx@xx.com\",\n *                               \"address\": \"82 Fatma\",\n *                               \"phone\": \"01157954393\",\n *                               \"country\": \"Egypt\",\n *                               \"id\": \"5a23d9a74bc62c0014489e3b\"\n *                           },\n *                           \"relatedCategory\": {\n *                               \"name\": \"موبايلات\",\n *                               \"id\": \"5a24430e4311cd0014c1bfba\"\n *                           },\n *                           \"creationDate\": \"2017-12-04T13:44:49.293Z\",\n *                           \"finished\": false,\n *                           \"imgs\": [\n *                               \"http://localhost:3000/uploads/barters/5a255151f4bb6f343470b7e60.jpeg\"\n *                           ],\n *                           \"type\": \"TEMP\",\n *                           \"id\": \"5a255151f4bb6f343470b7e6\"\n *                       },\n *                       {\n *                           \"title\": \"Samsung A\",\n *                           \"description\": \"assasasaasasas\",\n *                           \"neededProduct\": \"AAAAK\",\n *                           \"relatedUser\": {\n *                               \"fullName\": \"Magdy\",\n *                               \"email\": \"xx@xx.com\",\n *                               \"address\": \"82 Fatma\",\n *                               \"phone\": \"01157954393\",\n *                               \"country\": \"Egypt\",\n *                               \"id\": \"5a23d9a74bc62c0014489e3b\"\n *                           },\n *                           \"relatedCategory\": {\n *                               \"name\": \"موبايلات\",\n *                               \"id\": \"5a24430e4311cd0014c1bfba\"\n *                           },\n *                           \"barterOffer\": \"5a2532c7cb4ed22fc0831e61\",\n *                           \"creationDate\": \"2017-12-04T01:00:49.846Z\",\n *                           \"finished\": true,\n *                           \"imgs\": [\n *                               \"http://localhost:3000/uploads/barters/5a249e4148d6362638faeb9d0.jpeg\"\n *                           ],\n *                           \"type\": \"TEMP\",\n *                           \"id\": \"5a249e4148d6362638faeb9d\"\n *                       }\n *                   ],\n *                   \"page\": 1,\n *                   \"pageCount\": 2,\n *                   \"limit\": 2,\n *                   \"totalCount\": 4\n *               }\n */\nrouter.route('/:id/barters').get(UserController.getUserBarters);\n\n/**\n * @swagger\n * /users/{id}/auctions:\n *   get:\n *     tags:\n *       - User\n *     summary: Get all auctions of user\n *     produces:\n *       - application/json\n *     parameters:\n *       - name: id\n *         in: path\n *         required: true\n *         type: string\n *       - name: \"page\"\n *         in: \"query\"\n *         type: number\n *       - name: \"limit\"\n *         in: \"query\"\n *         type: number\n *     responses:\n *       200:\n *         description: Get An Array of User Auctions\n *         example: \n *               {\n *               \"links\": {\n *                   \"self\": \"http://localhost:3000/api/v1/users/5a24117b4bc62c0014489e43/auctions?page=1&limit=1\",\n *                   \"next\": \"http://localhost:3000/api/v1/users/5a24117b4bc62c0014489e43/auctions?page=2&limit=1\",\n *                   \"last\": \"http://localhost:3000/api/v1/users/5a24117b4bc62c0014489e43/auctions?page=2&limit=1\"\n *               },\n *               \"data\": [\n *                   {\n *                   \"title\": \"opel astra\",\n *                   \"description\": \"good car\",\n *                   \"startPrice\": 1000,\n *                   \"relatedCategory\": {\n *                       \"name\": \"سيارات\",\n *                       \"id\": \"5a2442fb4311cd0014c1bfb9\"\n *                   },\n *                   \"relatedUser\": {\n *                       \"email\": \"hazem.tarek@gmail.com\",\n *                       \"fullName\": \"Hazem Tarek\",\n *                       \"phone\": \"01014466503\",\n *                       \"country\": \"مصر\",\n *                       \"address\": \"بورسعيد\",\n *                       \"id\": \"5a24117b4bc62c0014489e43\"\n *                   },\n *                   \"endDate\": \"2017-12-24T00:00:00.000Z\",\n *                   \"highestPrice\": 1000,\n *                   \"creationDate\": \"2017-12-04T16:14:53.719Z\",\n *                   \"finished\": false,\n *                   \"imgs\": [\n *                       \"http://kayed-api.herokuapp.com/uploads/auctions/5a25747dcda9950014db1bc11512404093721.jpeg\",\n *                       \"http://kayed-api.herokuapp.com/uploads/auctions/5a25747dcda9950014db1bc11512404093722.jpeg\",\n *                       \"http://kayed-api.herokuapp.com/uploads/auctions/5a25747dcda9950014db1bc11512404093722.jpeg\"\n *                   ],\n *                   \"id\": \"5a25747dcda9950014db1bc1\"\n *                   }\n *               ],\n *               \"page\": 1,\n *               \"pageCount\": 2,\n *               \"limit\": 1,\n *               \"totalCount\": 2\n *               }\n */\nrouter.route('/:id/auctions').get(UserController.getUserAuctions);\n\n\nexport default router;\n"]}